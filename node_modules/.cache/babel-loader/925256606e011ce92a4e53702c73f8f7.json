{"ast":null,"code":"import _defineProperty from\"/Users/macbook/Desktop/lumicc/lumicc/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/macbook/Desktop/lumicc/lumicc/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/macbook/Desktop/lumicc/lumicc/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,Fragment,useState}from\"react\";import{getData,getSiteImages,checkPattern,postData}from\"../../helpers/api\";import{useForm}from\"react-hook-form\";import{ToastContainer,toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Contact(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,errors=_useForm.formState.errors;var _useState3=useState({name:'',email:'',phone:'',comments:''}),_useState4=_slicedToArray(_useState3,2),contact=_useState4[0],setContact=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),state=_useState6[0],setState=_useState6[1];useEffect(function(){getData(\"home-page\").then(function(data){setState(_objectSpread(_objectSpread({},state),{},{content:data.content}));setLoading(true);});},[]);function onSubmit(){if(contact.name_error===true||contact.name===''){setContact(_objectSpread(_objectSpread({},contact),{},{name_error:true,name_msg:\"Required\"}));}else if(contact.email_error===true||contact.email===''){setContact(_objectSpread(_objectSpread({},contact),{},{email_error:true,email_error_msg:\"Enter a valid email address\"}));}else if(contact.phone_error===true||contact.phone===''){setContact(_objectSpread(_objectSpread({},contact),{},{phone_error:true,phone_msg:\"Enter a valid phone number\"}));}else if(contact.comment_error===true||contact.comments===''){setContact(_objectSpread(_objectSpread({},contact),{},{comment_error:true,comment_msg:\"Required\"}));}else{setContact(_objectSpread(_objectSpread({},contact),{},{btn_loading:true}));var form_data=new FormData();for(var key in contact){form_data.append(key,contact[key]);}postData(\"contact\",form_data).then(function(data){console.log(data);if(data.status==1){// document.getElementById(\"frmContact\").reset();\nsetContact(_objectSpread(_objectSpread({},contact),{},{btn_loading:false,email:\"\",name:'',phone:'',comments:''}));document.getElementById(\"comments\").value=\"\";toast.success(\"\".concat(data.msg),{position:\"top-right\",autoClose:1000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined});}else{setContact(_objectSpread(_objectSpread({},contact),{},{btn_loading:false}));toast.error(\"\".concat(data.msg),{position:\"top-right\",autoClose:2000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined});}});}}function handleContactChange(e){if(e.target.name==='name'){if(e.target.value===\"\"){var _objectSpread2;setContact(_objectSpread(_objectSpread({},contact),{},(_objectSpread2={},_defineProperty(_objectSpread2,e.target.name,e.target.value),_defineProperty(_objectSpread2,\"name_error\",true),_defineProperty(_objectSpread2,\"name_msg\",\"Required\"),_objectSpread2)));}else{var _objectSpread3;setContact(_objectSpread(_objectSpread({},contact),{},(_objectSpread3={},_defineProperty(_objectSpread3,e.target.name,e.target.value),_defineProperty(_objectSpread3,\"name_error\",false),_defineProperty(_objectSpread3,\"name_msg\",\"\"),_objectSpread3)));}}if(e.target.name==='phone'){if(e.target.value===\"\"){var _objectSpread4;setContact(_objectSpread(_objectSpread({},contact),{},(_objectSpread4={},_defineProperty(_objectSpread4,e.target.name,e.target.value),_defineProperty(_objectSpread4,\"phone_error\",true),_defineProperty(_objectSpread4,\"phone_msg\",\"Required\"),_objectSpread4)));}else{if(e.target.value!=null||e.target.value!='null'){var mobile_chk=checkPattern(e.target.value,/^[0-9\\b]+$/);if(mobile_chk===false){var _objectSpread5;setContact(_objectSpread(_objectSpread({},contact),{},(_objectSpread5={},_defineProperty(_objectSpread5,e.target.name,e.target.value),_defineProperty(_objectSpread5,\"phone_error\",true),_defineProperty(_objectSpread5,\"phone_msg\",\"Invalid phone number\"),_objectSpread5)));}else{var _objectSpread6;setContact(_objectSpread(_objectSpread({},contact),{},(_objectSpread6={},_defineProperty(_objectSpread6,e.target.name,e.target.value),_defineProperty(_objectSpread6,\"phone_error\",false),_defineProperty(_objectSpread6,\"phone_msg\",\"\"),_objectSpread6)));}}}}if(e.target.name==='email'){var email_chk=checkPattern(e.target.value,/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,})+$/);if(email_chk===false){if(e.target.value===''){setContact(_objectSpread(_objectSpread({},contact),{},{email_error:false}));}else{var _objectSpread7;setContact(_objectSpread(_objectSpread({},contact),{},(_objectSpread7={},_defineProperty(_objectSpread7,e.target.name,e.target.value),_defineProperty(_objectSpread7,\"email_error\",true),_defineProperty(_objectSpread7,\"email_error_msg\",\"Invalid e-mail address\"),_objectSpread7)));}}else{var _objectSpread8;setContact(_objectSpread(_objectSpread({},contact),{},(_objectSpread8={},_defineProperty(_objectSpread8,e.target.name,e.target.value),_defineProperty(_objectSpread8,\"email_error\",false),_defineProperty(_objectSpread8,\"email_error_msg\",\"\"),_objectSpread8)));}}if(e.target.name==='comments'){if(e.target.value===\"\"){var _objectSpread9;setContact(_objectSpread(_objectSpread({},contact),{},(_objectSpread9={},_defineProperty(_objectSpread9,e.target.name,e.target.value),_defineProperty(_objectSpread9,\"comment_error\",true),_defineProperty(_objectSpread9,\"comment_msg\",\"Required\"),_objectSpread9)));}else{var _objectSpread10;setContact(_objectSpread(_objectSpread({},contact),{},(_objectSpread10={},_defineProperty(_objectSpread10,e.target.name,e.target.value),_defineProperty(_objectSpread10,\"comment_error\",false),_defineProperty(_objectSpread10,\"comment_msg\",\"\"),_objectSpread10)));}}}if(loading===false)return'';return/*#__PURE__*/_jsxs(\"section\",{className:\"popup\",\"data-popup\":\"contact\",style:{display:\"block\"},children:[/*#__PURE__*/_jsx(ToastContainer,{}),/*#__PURE__*/_jsx(\"div\",{className:\"table_dv\",children:/*#__PURE__*/_jsx(\"div\",{className:\"table_cell\",children:/*#__PURE__*/_jsx(\"div\",{className:\"contain\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"_inner\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"x_btn\",onClick:props.closeContactPopup}),/*#__PURE__*/_jsx(\"div\",{dangerouslySetInnerHTML:{__html:state.content.contact_detail}}),/*#__PURE__*/_jsxs(\"form\",{method:\"post\",onSubmit:handleSubmit(onSubmit),id:\"frmContact\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form_row row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-xs-12\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"require\",children:\"Full Name\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form_blk\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",id:\"name\",className:\"input\",placeholder:\"eg: John Wick\",onChange:handleContactChange}),contact.name_error===true?/*#__PURE__*/_jsxs(\"p\",{className:\"error\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fi-warning\"}),\" \",contact.name_msg]}):\"\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-xs-12\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"require\",children:\"Email Address\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form_blk\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"email\",id:\"email\",className:\"input\",placeholder:\"eg: sample@gmail.com\",onChange:handleContactChange}),contact.email_error===true?/*#__PURE__*/_jsxs(\"p\",{className:\"error\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fi-warning\"}),\" \",contact.email_error_msg]}):\"\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-xs-12\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"require\",children:\"Phone Number\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form_blk\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"phone\",id:\"phone\",className:\"input\",placeholder:\"eg: 092 1234 567\",onChange:handleContactChange}),contact.phone_error===true?/*#__PURE__*/_jsxs(\"p\",{className:\"error\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fi-warning\"}),\" \",contact.phone_msg]}):\"\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-xs-12\",children:[/*#__PURE__*/_jsx(\"h6\",{children:\"Comments\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form_blk\",children:[/*#__PURE__*/_jsx(\"textarea\",{name:\"comments\",id:\"comments\",className:\"input\",placeholder:\"How can we help?\",onChange:handleContactChange}),contact.comment_error===true?/*#__PURE__*/_jsxs(\"p\",{className:\"error\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fi-warning\"}),\" \",contact.comment_msg]}):\"\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"btn_blk form_btn text-center\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"site_btn lg long purple\",disabled:contact.btn_loading===true?'disabled':'',children:[\"Submit \",contact.btn_loading===true?/*#__PURE__*/_jsx(\"i\",{className:\"spinner\"}):'']})})]})]})})})})]});}","map":{"version":3,"sources":["/Users/macbook/Desktop/lumicc/lumicc/src/components/popups/contact.jsx"],"names":["React","useEffect","Fragment","useState","getData","getSiteImages","checkPattern","postData","useForm","ToastContainer","toast","Contact","props","loading","setLoading","register","handleSubmit","errors","formState","name","email","phone","comments","contact","setContact","state","setState","then","data","content","onSubmit","name_error","name_msg","email_error","email_error_msg","phone_error","phone_msg","comment_error","comment_msg","btn_loading","form_data","FormData","key","append","console","log","status","document","getElementById","value","success","msg","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","error","handleContactChange","e","target","mobile_chk","email_chk","display","closeContactPopup","__html","contact_detail"],"mappings":"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","sourcesContent":["import React, { useEffect, Fragment, useState } from \"react\";\nimport { getData, getSiteImages, checkPattern, postData } from \"../../helpers/api\";\nimport { useForm } from \"react-hook-form\";\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nexport default function Contact(props) {\n    const [loading, setLoading] = useState(false);\n    const { register, handleSubmit, formState: { errors } } = useForm();\n    const [contact, setContact] = useState({\n        name: '',\n        email: '',\n        phone: '',\n        comments: ''\n    });\n    const [state, setState] = useState({\n\n    });\n    useEffect(() => {\n        getData(\"home-page\").then((data) => {\n            setState({\n                ...state,\n                content: data.content,\n            });\n            setLoading(true);\n        });\n    }, []);\n    function onSubmit() {\n\n        if (contact.name_error === true || contact.name === '') {\n            setContact({ ...contact, name_error: true, name_msg: \"Required\" });\n        }\n        else if (contact.email_error === true || contact.email === '') {\n            setContact({ ...contact, email_error: true, email_error_msg: \"Enter a valid email address\" });\n        }\n        else if (contact.phone_error === true || contact.phone === '') {\n            setContact({ ...contact, phone_error: true, phone_msg: \"Enter a valid phone number\" });\n        }\n        else if (contact.comment_error === true || contact.comments === '') {\n            setContact({ ...contact, comment_error: true, comment_msg: \"Required\" });\n        }\n        else {\n            setContact({ ...contact, btn_loading: true });\n            var form_data = new FormData();\n\n            for (var key in contact) {\n                form_data.append(key, contact[key]);\n            }\n            postData(\"contact\", form_data).then((data) => {\n                console.log(data);\n                if (data.status == 1) {\n                    // document.getElementById(\"frmContact\").reset();\n                    setContact({ ...contact, btn_loading: false, email: \"\", name: '', phone: '', comments: '' });\n                    document.getElementById(\"comments\").value = \"\";\n                    toast.success(`${data.msg}`, {\n                        position: \"top-right\",\n                        autoClose: 1000,\n                        hideProgressBar: false,\n                        closeOnClick: true,\n                        pauseOnHover: true,\n                        draggable: true,\n                        progress: undefined,\n                    });\n                }\n                else {\n                    setContact({ ...contact, btn_loading: false });\n                    toast.error(`${data.msg}`, {\n                        position: \"top-right\",\n                        autoClose: 2000,\n                        hideProgressBar: false,\n                        closeOnClick: true,\n                        pauseOnHover: true,\n                        draggable: true,\n                        progress: undefined,\n                    });\n                }\n            });\n        }\n    }\n    function handleContactChange(e) {\n        if (e.target.name === 'name') {\n            if (e.target.value === \"\") {\n                setContact({ ...contact, [e.target.name]: e.target.value, name_error: true, name_msg: \"Required\" });\n            }\n            else {\n                setContact({ ...contact, [e.target.name]: e.target.value, name_error: false, name_msg: \"\" });\n            }\n        }\n        if (e.target.name === 'phone') {\n            if (e.target.value === \"\") {\n                setContact({ ...contact, [e.target.name]: e.target.value, phone_error: true, phone_msg: \"Required\" });\n            }\n            else {\n                if (e.target.value != null || e.target.value != 'null') {\n                    let mobile_chk = checkPattern(e.target.value, /^[0-9\\b]+$/);\n                    if (mobile_chk === false) {\n                        setContact({ ...contact, [e.target.name]: e.target.value, phone_error: true, phone_msg: \"Invalid phone number\" });\n                    }\n                    else {\n                        setContact({ ...contact, [e.target.name]: e.target.value, phone_error: false, phone_msg: \"\" });\n                    }\n                }\n\n            }\n        }\n        if (e.target.name === 'email') {\n\n            let email_chk = checkPattern(e.target.value, /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,})+$/);\n\n            if (email_chk === false) {\n                if (e.target.value === '') {\n                    setContact({ ...contact, email_error: false });\n                }\n                else {\n                    setContact({ ...contact, [e.target.name]: e.target.value, email_error: true, email_error_msg: \"Invalid e-mail address\" });\n                }\n\n            }\n            else {\n                setContact({ ...contact, [e.target.name]: e.target.value, email_error: false, email_error_msg: \"\" });\n            }\n\n        }\n        if (e.target.name === 'comments') {\n            if (e.target.value === \"\") {\n                setContact({ ...contact, [e.target.name]: e.target.value, comment_error: true, comment_msg: \"Required\" });\n            }\n            else {\n                setContact({ ...contact, [e.target.name]: e.target.value, comment_error: false, comment_msg: \"\" });\n            }\n        }\n    }\n    if (loading === false) return '';\n    return (\n        <section className=\"popup\" data-popup=\"contact\" style={{ display: \"block\" }}>\n            <ToastContainer />\n            <div className=\"table_dv\">\n                <div className=\"table_cell\">\n                    <div className=\"contain\">\n                        <div className=\"_inner\">\n                            <button type=\"button\" className=\"x_btn\" onClick={props.closeContactPopup}></button>\n                            <div dangerouslySetInnerHTML={{ __html: state.content.contact_detail }} />\n                            <form method=\"post\" onSubmit={handleSubmit(onSubmit)} id=\"frmContact\">\n                                <div className=\"form_row row\">\n                                    <div className=\"col-xs-12\">\n                                        <h6 className=\"require\">Full Name</h6>\n                                        <div className=\"form_blk\">\n                                            <input type=\"text\" name=\"name\" id=\"name\" className=\"input\" placeholder=\"eg: John Wick\" onChange={handleContactChange} />\n                                            {\n                                                (contact.name_error === true) ?\n                                                    <p className=\"error\">\n                                                        <i className=\"fi-warning\"></i> {contact.name_msg}\n                                                    </p>\n                                                    :\n                                                    \"\"\n\n                                            }\n                                        </div>\n                                    </div>\n                                    <div className=\"col-xs-12\">\n                                        <h6 className=\"require\">Email Address</h6>\n                                        <div className=\"form_blk\">\n                                            <input type=\"text\" name=\"email\" id=\"email\" className=\"input\" placeholder=\"eg: sample@gmail.com\" onChange={handleContactChange} />\n                                            {\n                                                (contact.email_error === true) ?\n                                                    <p className=\"error\">\n                                                        <i className=\"fi-warning\"></i> {contact.email_error_msg}\n                                                    </p>\n                                                    :\n                                                    \"\"\n\n                                            }\n                                        </div>\n                                    </div>\n                                    <div className=\"col-xs-12\">\n                                        <h6 className=\"require\">Phone Number</h6>\n                                        <div className=\"form_blk\">\n                                            <input type=\"text\" name=\"phone\" id=\"phone\" className=\"input\" placeholder=\"eg: 092 1234 567\" onChange={handleContactChange} />\n                                            {\n                                                (contact.phone_error === true) ?\n                                                    <p className=\"error\">\n                                                        <i className=\"fi-warning\"></i> {contact.phone_msg}\n                                                    </p>\n                                                    :\n                                                    \"\"\n\n                                            }\n                                        </div>\n                                    </div>\n                                    <div className=\"col-xs-12\">\n                                        <h6>Comments</h6>\n                                        <div className=\"form_blk\">\n                                            <textarea name=\"comments\" id=\"comments\" className=\"input\" placeholder=\"How can we help?\" onChange={handleContactChange}></textarea>\n                                            {\n                                                (contact.comment_error === true) ?\n                                                    <p className=\"error\">\n                                                        <i className=\"fi-warning\"></i> {contact.comment_msg}\n                                                    </p>\n                                                    :\n                                                    \"\"\n\n                                            }\n                                        </div>\n                                    </div>\n                                </div>\n                                <div className=\"btn_blk form_btn text-center\">\n                                    <button className=\"site_btn lg long purple\" disabled={(contact.btn_loading === true) ? 'disabled' : ''}>Submit {(contact.btn_loading === true) ? <i className=\"spinner\"></i> : ''}</button>\n                                </div>\n                            </form>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </section>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}